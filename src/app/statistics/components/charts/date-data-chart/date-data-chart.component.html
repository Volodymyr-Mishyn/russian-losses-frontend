<div class="flex flex-col justify-stretch items-stretch h-full w-full">
  <div class="flex flex-none flex-col md:flex-row gap-2 m-2">
    <div class="flex-1 flex justify-start items-center gap-4">
      @if (iconName) {
      <mat-icon [svgIcon]="iconName" class="icon-l"></mat-icon>
      }
      <div class="flex flex-col flex-none justify-center items-center">
        <div class="header-title">
          {{ title }}
        </div>
      </div>
    </div>
    <div
      [formGroup]="form"
      class="flex flex-row flex-none gap-2 justify-center items-center"
    >
      <mat-checkbox formControlName="showDeviateFromAverage">
        <span i18n>Show compared to Average</span>
      </mat-checkbox>
      <div>
        <mat-button-toggle-group
          formControlName="gradationMode"
          aria-label="Presentation format"
        >
          <mat-button-toggle value="daily">
            <span i18n>Daily</span>
          </mat-button-toggle>
          <mat-button-toggle value="monthly">
            <span i18n>Monthly</span>
          </mat-button-toggle>
        </mat-button-toggle-group>
      </div>
    </div>
  </div>
  <div class="flex flex-grow p-2 mb-8 ml-4 mr-4">
    <canvas #chartCanvas width="100%" height="100%"></canvas>
  </div>
</div>
